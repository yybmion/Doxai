```asciidoc
= LRUCache Implementation in JavaScript

== Overview

This document describes the `LRUCache` class, a JavaScript implementation of a Least Recently Used (LRU) cache using a doubly-linked list and a HashMap.  The cache maintains a maximum capacity and provides O(1) average time complexity for `get` and `set` operations.  The implementation uses a doubly-linked list to track the order of access, with the most recently used item at the tail and the least recently used at the head.  A HashMap provides constant-time lookup for key-value pairs.


== Class: `LinkedListNode`

This class represents a node in the doubly-linked list.

=== Constructor: `LinkedListNode(key, val, prev = null, next = null)`

* `key`: `string` - The key associated with the node.
* `val`: `any` - The value associated with the node.
* `prev`: `LinkedListNode` (optional, defaults to `null`) - The previous node in the list.
* `next`: `LinkedListNode` (optional, defaults to `null`) - The next node in the list.


== Class: `LRUCache`

This class implements the LRU cache.

=== Constructor: `LRUCache(capacity)`

* `capacity`: `number` - The maximum number of items the cache can hold.


=== Method: `get(key)`

* `key`: `string` - The key to retrieve.
* Returns: `any` - The value associated with the key, or `undefined` if the key is not found.
* Time Complexity: O(1) on average.


=== Method: `set(key, val)`

* `key`: `string` - The key to set.
* `val`: `any` - The value to associate with the key.
* Time Complexity: O(1) on average.


=== Method: `promote(node)`

* `node`: `LinkedListNode` - The node to move to the end of the list (most recently used).


=== Method: `append(node)`

* `node`: `LinkedListNode` - The node to append to the end of the list.


=== Method: `evict(node)`

* `node`: `LinkedListNode` - The node to remove from the list.


=== Properties:

* `capacity`: `number` - The maximum capacity of the cache.
* `nodesMap`: `object` - A HashMap mapping keys to `LinkedListNode` objects.  _Implementation detail:  This is used for O(1) lookup._
* `size`: `number` - The current number of items in the cache.
* `head`: `LinkedListNode` - The head of the doubly-linked list (least recently used).
* `tail`: `LinkedListNode` - The tail of the doubly-linked list (most recently used).


== Dependencies

The code has no external dependencies beyond standard JavaScript.


== Example Usage

```javascript
const cache = new LRUCache(2);
cache.set('a', 1);
cache.set('b', 2);
console.log(cache.get('a')); // 1
cache.set('c', 3);
console.log(cache.get('b')); // undefined (evicted)
console.log(cache.get('c')); // 3
```

== Unclear Aspects

There are no unclear aspects in the provided code.  The functionality is clearly defined and implemented.
```
