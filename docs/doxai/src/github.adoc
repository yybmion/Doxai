```asciidoc
= GitHubClient Class Documentation

== PR Information

* PR Number: 31
* Author: yybmion
* Created Date: 2025-05-27
* Last Modified: 2025-05-27 by yybmion

== File Information

* Filename: src/github.js
* Language: JavaScript

== Overview

The `GitHubClient` class provides a wrapper around the GitHub API, offering enhanced error handling and logging capabilities.  It simplifies common GitHub operations such as creating and managing pull requests, branches, files, and comments.  The class relies on the `@actions/github` package for interacting with the GitHub API and a custom `Logger` class (assumed to be defined elsewhere) for logging.  The configuration is loaded from a `./config.js` file (contents unknown).  The class requires the `GITHUB_REPOSITORY` environment variable to be set correctly.

== Dependencies

* `@actions/github`: For interacting with the GitHub REST API.
* `./config`:  A configuration file (contents unknown, assumed to contain `githubToken`).
* `./logger`: A custom logger class (implementation unknown).

== Class Methods

=== Constructor

`GitHubClient(token = config.githubToken)`

Initializes a new instance of the `GitHubClient` class.  It takes an optional `token` argument, defaulting to the `githubToken` from the `config` module.  It initializes a logger and retrieves the repository context from environment variables.  It throws an error if the repository context is not available.

=== `findExistingDocsPR(sourcePrNumber, project)`

[source,javascript]
----
async findExistingDocsPR(sourcePrNumber, project) {
  // ...
}
----

Finds an existing open pull request for documentation related to a specific source PR and project.  Returns an object containing PR details if found, otherwise `null`.  The title and branch name patterns used for searching are hardcoded.

=== `createOrGetDocsBranch(baseBranch, newBranch, sourcePrNumber, project)`

[source,javascript]
----
async createOrGetDocsBranch(baseBranch, newBranch, sourcePrNumber, project) {
  // ...
}
----

Creates a new documentation branch or retrieves an existing one.  It first checks for an existing PR. If one exists, it returns the existing branch. Otherwise, it checks if the branch exists and either uses it or creates a new one.

=== `createBranch(branchName, baseBranch)`

[source,javascript]
----
async createBranch(branchName, baseBranch) {
  // ...
}
----

Creates a new branch from a specified base branch.  Handles the case where the branch already exists by throwing a specific error.

=== `branchExists(branchName)`

[source,javascript]
----
async branchExists(branchName) {
  // ...
}
----

Checks if a branch exists.

=== `getPRDetails(prNumber)`

[source,javascript]
----
async getPRDetails(prNumber) {
  // ...
}
----

Retrieves details of a pull request.  Handles the case where the PR is not found.

=== `getChangedFiles(prNumber)`

[source,javascript]
----
async getChangedFiles(prNumber) {
  // ...
}
----

Retrieves a list of changed files in a pull request, handling pagination.

=== `getFileContent(path, ref)`

[source,javascript]
----
async getFileContent(path, ref) {
  // ...
}
----

Retrieves the content of a file.  Handles cases where the path is a directory or the file is not found.

=== `commitFile(branch, path, content, message)`

[source,javascript]
----
async commitFile(branch, path, content, message) {
  // ...
}
----

Creates or updates a file, automatically handling the SHA.

=== `deleteFile(branch, path, message)`

[source,javascript]
----
async deleteFile(branch, path, message) {
  // ...
}
----

Deletes a file. Handles the case where the file is not found.

=== `createPR(title, body, head, base)`

[source,javascript]
----
async createPR(title, body, head, base) {
  // ...
}
----

Creates a pull request.  Validates that both head and base branches exist.  Handles the case where a PR already exists between the specified branches.

=== `createComment(issueNumber, body)`

[source,javascript]
----
async createComment(issueNumber, body) {
  // ...
}
----

Creates a comment on a pull request or issue.

=== `hasSourceFileChanged(sourceFile, docFile, docsBranch, sourceBranch)`

[source,javascript]
----
async hasSourceFileChanged(sourceFile, docFile, docsBranch, sourceBranch) {
  // ...
}
----

Checks if a source file has changed since the last documentation update.  Handles cases where commits are not found.  The comparison is based on commit timestamps.

=== `commitMultipleFiles(branch, files, message)`

[source,javascript]
----
async commitMultipleFiles(branch, files, message) {
  // ...
}
----

Commits multiple files in a single commit.

=== `commitMultipleChanges(branch, filesToCommit, filesToDelete, message)`

[source,javascript]
----
async commitMultipleChanges(branch, filesToCommit, filesToDelete, message) {
  // ...
}
----

Commits multiple changes (add, update, delete) in a single commit.


== Unclear Aspects

* The implementation of the `Logger` class is unknown.
* The contents of the `./config.js` file are unknown.


```
